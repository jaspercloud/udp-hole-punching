syntax = "proto2";
option java_package = "org.jaspercloud.punching.proto";
option java_outer_classname = "PunchingProtos";

enum MsgType {
  PingType = 1;
  PongType = 2;
  ReqRegisterType = 3;
  RespRegisterType = 4;
  ReqRelayPunchingType = 5;
  RespRelayPunchingType = 6;
  Data = 7;
}

message PunchingMessage {
  required MsgType type = 1;
  required string reqId = 2;
  optional bytes data = 3;
}

message ConnectionData {
  required string host = 1;
  required int32 port = 2;
}

message PunchingData {
  required string pingHost = 1;
  required int32 pingPort = 2;
  required string pongHost = 3;
  required int32 pongPort = 4;
}

message HeartData {
  required string channelId = 1;
}

message StreamData {
  required string channelId = 1;
  required bytes data = 2;
}